<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TROUBLESHOOTING CHALLENGE - LKP INDO JAYA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Share Tech Mono', monospace;
            background-color: #0f172a;
            color: #e2e8f0;
        }
        .cyber-border {
            border: 1px solid #64748b;
            box-shadow: 0 0 5px rgba(100, 116, 139, 0.2);
            transition: all 0.3s;
        }
        .cyber-border:hover {
            border-color: #f43f5e; /* Merah Muda untuk kesan Urgent */
            box-shadow: 0 0 15px rgba(244, 63, 94, 0.3);
        }
        .btn-cyber {
            background: #1e293b;
            border: 1px solid #38bdf8;
            color: #38bdf8;
            transition: all 0.3s;
        }
        .btn-cyber:hover {
            background: #38bdf8;
            color: #0f172a;
            box-shadow: 0 0 15px #38bdf8;
        }
        /* Utility Classes */
        .hidden-content { 
            display: none !important; 
        }
        .mission-complete {
            background-color: rgba(16, 185, 129, 0.1);
            border-left: 5px solid #10b981;
            border-color: #10b981;
        }
        .doc-hint {
            color: #fcd34d;
            font-size: 0.8rem;
            margin-top: 4px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        /* Report Card Style */
        .report-card {
            background: #0f172a;
            border: 4px solid #f43f5e;
            background-image: radial-gradient(#1e293b 1px, transparent 1px);
            background-size: 20px 20px;
        }
        /* Modal Style */
        .modal {
            background-color: rgba(0, 0, 0, 0.95);
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
    </style>
</head>
<body class="min-h-screen">

    <div id="mainDashboard" class="p-4 md:p-8 pb-20 transition-opacity duration-500">
        
        <div class="max-w-5xl mx-auto mb-8 text-center border-b border-gray-700 pb-6">
            <h2 class="text-xl md:text-2xl text-red-400 font-bold tracking-widest mb-2">LKP INDO JAYA</h2>
            <h1 class="text-3xl md:text-5xl text-white font-bold glow">TROUBLESHOOTING CHALLENGE</h1>
            <p class="text-gray-400 mt-2">Status Jaringan: <span class="text-red-500 animate-pulse">CRITICAL DOWN</span></p>
            
            <div class="mt-6 bg-gray-800 h-6 rounded-full overflow-hidden border border-gray-600 w-full max-w-2xl mx-auto">
                <div id="progressBar" class="bg-red-600 h-full w-0 transition-all duration-1000 flex items-center justify-center text-xs text-white font-bold">0%</div>
            </div>
            
            <div class="mt-6 max-w-md mx-auto">
                <input type="text" id="studentName" placeholder="Masukkan Nama Teknisi (Siswa)..." class="w-full bg-gray-900 border border-red-500 p-3 text-white text-center rounded focus:outline-none focus:ring-2 focus:ring-red-400">
            </div>
        </div>

        <div class="max-w-5xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="lg:col-span-2 space-y-6">
                
                <div class="cyber-border p-5 rounded bg-gray-900" id="mission1">
                    <div class="flex justify-between items-center mb-2">
                        <h2 class="text-xl text-blue-400 font-bold">LEVEL 1 & 2: KONEKSI DASAR</h2>
                        <span class="bg-gray-700 text-gray-300 text-xs px-2 py-1 rounded">PENDING</span>
                    </div>
                    <p class="mb-4 text-sm text-gray-300">Router mati dan PC Admin tidak bisa Ping ke Gateway.</p>
                    <div class="space-y-3">
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" class="task-check form-checkbox h-5 w-5 text-blue-500 rounded" data-mission="1" data-label="Router Port ON">
                            <span>Nyalakan Interface Router (No Shutdown)</span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" class="task-check form-checkbox h-5 w-5 text-blue-500 rounded" data-mission="1" data-label="Fix PC Gateway">
                            <span>Perbaiki Default Gateway di PC-Admin</span>
                        </label>
                        <div class="doc-hint p-2 border border-dashed border-yellow-600 rounded bg-yellow-900/20">
                            <span>üì∑ <strong>BUKTI:</strong> Screenshot CMD PC-Admin saat berhasil Ping ke 192.168.10.1 (Reply).</span>
                        </div>
                    </div>
                    <button onclick="toggleHint('hint1')" class="mt-4 text-xs text-blue-400 hover:text-white underline">[?] Hint: Cek Interface & IP</button>
                    <div id="hint1" class="hidden-content mt-2 p-3 bg-gray-800 border-l-2 border-blue-500 text-xs text-gray-300">
                        1. Router: <code>int g0/0</code> -> <code>no shutdown</code>.<br>
                        2. PC-Admin: Cek Gateway, jangan sampai salah angka (misal .254 salah, harusnya .1).
                    </div>
                </div>

                <div class="cyber-border p-5 rounded bg-gray-900" id="mission2">
                    <div class="flex justify-between items-center mb-2">
                        <h2 class="text-xl text-blue-400 font-bold">LEVEL 3: AKSES INTERNET</h2>
                        <span class="bg-gray-700 text-gray-300 text-xs px-2 py-1 rounded">PENDING</span>
                    </div>
                    <p class="mb-4 text-sm text-gray-300">Router tidak tahu jalan ke Internet (Ping 8.8.8.8 RTO).</p>
                    <div class="space-y-3">
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" class="task-check form-checkbox h-5 w-5 text-blue-500 rounded" data-mission="2" data-label="Default Route Added">
                            <span>Tambahkan Default Route (0.0.0.0)</span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" class="task-check form-checkbox h-5 w-5 text-blue-500 rounded" data-mission="2" data-label="NAT Configured">
                            <span>Konfigurasi NAT (Inside, Outside, Overload)</span>
                        </label>
                        <div class="doc-hint p-2 border border-dashed border-yellow-600 rounded bg-yellow-900/20">
                            <span>üì∑ <strong>BUKTI:</strong> Screenshot CMD PC-Admin saat berhasil Ping ke 8.8.8.8 (Reply).</span>
                        </div>
                    </div>
                    <button onclick="toggleHint('hint2')" class="mt-4 text-xs text-blue-400 hover:text-white underline">[?] Hint: Routing & NAT</button>
                    <div id="hint2" class="hidden-content mt-2 p-3 bg-gray-800 border-l-2 border-blue-500 text-xs text-gray-300">
                        1. <code>ip route 0.0.0.0 0.0.0.0 [IP_ISP]</code> (Cek IP Server Google Gateway).<br>
                        2. Jangan lupa <code>ip nat inside</code> di G0/0 dan <code>ip nat outside</code> di G0/1.
                    </div>
                </div>

                <div class="cyber-border p-5 rounded bg-gray-900" id="mission3">
                    <div class="flex justify-between items-center mb-2">
                        <h2 class="text-xl text-blue-400 font-bold">LEVEL 4: SERVICES & IOT</h2>
                        <span class="bg-gray-700 text-gray-300 text-xs px-2 py-1 rounded">PENDING</span>
                    </div>
                    <p class="mb-4 text-sm text-gray-300">Email error dan Lampu Otomatis tidak berfungsi.</p>
                    <div class="space-y-3">
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" class="task-check form-checkbox h-5 w-5 text-blue-500 rounded" data-mission="3" data-label="Server Services ON">
                            <span>Server-Office: Nyalakan Service HTTP & Email</span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" class="task-check form-checkbox h-5 w-5 text-blue-500 rounded" data-mission="3" data-label="Fix Email Client IP">
                            <span>PC-Staff: Perbaiki IP Server di Email Config</span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" class="task-check form-checkbox h-5 w-5 text-blue-500 rounded" data-mission="3" data-label="IoT Connected">
                            <span>IoT: Hubungkan Motion & Light ke SSID "OFFICE_IOT"</span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" class="task-check form-checkbox h-5 w-5 text-blue-500 rounded" data-mission="3" data-label="IoT Rule Created">
                            <span>IoT: Buat Rule (If Motion On -> Light On)</span>
                        </label>
                        <div class="doc-hint p-2 border border-dashed border-yellow-600 rounded bg-yellow-900/20">
                            <span>üì∑ <strong>BUKTI:</strong> 1. SS Email PC-Staff "Send Success". 2. SS Lampu menyala saat ada gerakan.</span>
                        </div>
                    </div>
                    <button onclick="toggleHint('hint3')" class="mt-4 text-xs text-blue-400 hover:text-white underline">[?] Hint: Salah IP & Salah SSID</button>
                    <div id="hint3" class="hidden-content mt-2 p-3 bg-gray-800 border-l-2 border-blue-500 text-xs text-gray-300">
                        1. PC-Staff Email: Cek Server Address, ganti 192.168.1.1 menjadi IP Server asli (10.5).<br>
                        2. IoT: SSID di alat masih 'Default', ubah ke 'OFFICE_IOT' pass '12345678'.
                    </div>
                </div>

            </div>

            <div class="lg:col-span-1">
                <div class="sticky top-6 space-y-4">
                    
                    <a href="https://drive.google.com/file/d/1aF9FtdWXjZsWsh94-fgORrjvVttlUUCb/view?usp=drive_link" target="_blank" class="block w-full text-center bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 rounded shadow-lg shadow-blue-500/30 transition duration-300 border border-blue-400">
                        ‚¨áÔ∏è DOWNLOAD SOAL (.PKT)
                    </a>

                    <div class="border border-red-500 p-5 rounded bg-gray-900 shadow-lg shadow-red-900/20">
                        <h3 class="text-white font-bold mb-4 border-b border-gray-700 pb-2">DATA REFERENSI (BENAR)</h3>
                        <div class="text-xs space-y-3 font-mono text-gray-300">
                            <div class="p-2 bg-gray-800 rounded">
                                <span class="text-red-400 block font-bold">ROUTER GATEWAY</span>
                                LAN: 192.168.10.1<br>
                                WAN: 8.8.8.1 (Ke Arah ISP)
                            </div>
                            <div class="p-2 bg-gray-800 rounded">
                                <span class="text-red-400 block font-bold">PC ADMIN</span>
                                IP: 192.168.10.2<br>
                                GW: 192.168.10.1
                            </div>
                            <div class="p-2 bg-gray-800 rounded">
                                <span class="text-red-400 block font-bold">PC STAFF</span>
                                IP: 192.168.10.3<br>
                                GW: 192.168.10.1
                            </div>
                            <div class="p-2 bg-gray-800 rounded">
                                <span class="text-red-400 block font-bold">SERVER OFFICE</span>
                                IP: 192.168.10.5<br>
                                Domain: kantor.com
                            </div>
                        </div>
                    </div>
                    
                    <button onclick="generateReport()" class="w-full btn-cyber py-4 font-bold text-lg rounded shadow-lg">SUBMIT LAPORAN üì§</button>
                    <p class="text-xs text-gray-500 text-center">Klik jika semua sistem sudah pulih</p>
                </div>
            </div>
        </div>
    </div>

    <div id="finalReport" class="hidden-content min-h-screen p-4 flex items-center justify-center">
        <div class="report-card max-w-3xl w-full p-8 relative shadow-2xl">
            <div class="text-center border-b-2 border-red-500 pb-4 mb-6">
                <h2 class="text-xl text-red-300 tracking-[0.3em] font-bold">MISSION DEBRIEF</h2>
                <h1 class="text-4xl text-white font-bold mt-2">LKP INDO JAYA</h1>
                <p class="text-gray-400 text-sm">Troubleshooting Assessment Report</p>
            </div>
            <div class="flex flex-col md:flex-row justify-between mb-8 bg-gray-900/80 p-4 rounded border border-gray-700">
                <div>
                    <p class="text-xs text-gray-500">TEKNISI / SISWA</p>
                    <p class="text-2xl text-white font-bold uppercase" id="reportName">UNKNOWN</p>
                </div>
                <div class="mt-4 md:mt-0 text-right">
                    <p class="text-xs text-gray-500">TANGGAL PERBAIKAN</p>
                    <p class="text-lg text-red-400 font-mono" id="reportDate">--/--/----</p>
                </div>
            </div>
            <div class="grid grid-cols-2 gap-4 mb-8">
                <div class="bg-gray-800 p-4 rounded text-center">
                    <p class="text-gray-400 text-xs">RECOVERY PROGRESS</p>
                    <p class="text-4xl font-bold text-white" id="reportScore">0%</p>
                </div>
                <div class="bg-gray-800 p-4 rounded text-center">
                    <p class="text-gray-400 text-xs">NETWORK STATUS</p>
                    <p class="text-2xl font-bold mt-1" id="reportStatus">CRITICAL</p>
                </div>
            </div>
            <div class="mb-6">
                <h3 class="text-red-400 text-sm font-bold mb-3 border-b border-gray-700 pb-1">LOG PERBAIKAN:</h3>
                <ul class="text-sm space-y-2 font-mono text-gray-300 h-40 overflow-y-auto pr-2" id="reportList"></ul>
            </div>
            
            <div class="mb-4">
                <button onclick="showGuide()" class="w-full border border-yellow-500 text-yellow-500 hover:bg-yellow-500 hover:text-black py-3 rounded font-bold transition flex items-center justify-center gap-2">
                    üìÑ PANDUAN PEMBUATAN LAPORAN
                </button>
            </div>

            <div class="bg-red-900/20 border border-red-500/30 p-4 rounded text-center">
                <p class="text-xs text-gray-300">
                    ‚ö† <strong>INSTRUKSI:</strong> Screenshot halaman ini sebagai bukti perbaikan sistem.
                </p>
            </div>
            <div class="mt-6 text-center">
                <button onclick="editReport()" class="text-xs text-gray-500 hover:text-white underline">&lt; Kembali untuk revisi</button>
            </div>
        </div>
    </div>

    <div id="guideModal" class="hidden-content modal">
        <div class="bg-gray-900 border-2 border-yellow-500 p-6 rounded-lg max-w-lg w-full m-4 shadow-2xl relative">
            <div class="flex justify-between items-center mb-4 border-b border-gray-700 pb-2">
                <h3 class="text-xl text-yellow-500 font-bold">PANDUAN LAPORAN WORD</h3>
                <button onclick="closeGuide()" class="text-gray-400 hover:text-white">&times;</button>
            </div>
            
            <div class="text-sm text-gray-300 space-y-4 h-80 overflow-y-auto pr-2">
                <div class="p-3 bg-gray-800 rounded">
                    <strong class="text-white block mb-1">1. Format File</strong>
                    <ul class="list-disc pl-5">
                        <li>Header: <strong>"Laporan Troubleshooting - Nama Kamu"</strong>.</li>
                    </ul>
                </div>
                <div class="p-3 bg-gray-800 rounded">
                    <strong class="text-white block mb-1">2. Bukti Screenshot Wajib</strong>
                    <ul class="list-decimal pl-5 space-y-1">
                        <li><span class="text-yellow-400">Screenshot Rapor Ini</span> (Bukti Kelulusan).</li>
                        <li><span class="text-blue-400">Bukti Level 1&2:</span> Ping PC-Admin ke Gateway (Reply).</li>
                        <li><span class="text-blue-400">Bukti Level 3:</span> Ping PC-Admin ke 8.8.8.8 (Reply).</li>
                        <li><span class="text-blue-400">Bukti Level 4:</span> Email Sukses & Lampu Nyala.</li>
                    </ul>
                </div>
                <div class="p-3 bg-gray-800 rounded">
                    <strong class="text-white block mb-1">3. Upload</strong>
                    <p>Simpan docx dan upload ke Google Drive Instruktur.</p>
                </div>
            </div>
            <button onclick="closeGuide()" class="mt-4 w-full bg-yellow-600 hover:bg-yellow-700 text-black font-bold py-2 rounded transition">
                TUTUP PANDUAN
            </button>
        </div>
    </div>

    <script>
        const checkboxes = document.querySelectorAll('.task-check');
        const progressBar = document.getElementById('progressBar');
        const totalTasks = checkboxes.length;

        checkboxes.forEach(box => {
            box.addEventListener('change', () => {
                updateProgress();
                updateMissionStatus(box);
            });
        });

        function updateProgress() {
            const completed = document.querySelectorAll('.task-check:checked').length;
            const percentage = Math.round((completed / totalTasks) * 100);
            progressBar.style.width = percentage + '%';
            progressBar.innerText = percentage + '%';
            if (percentage === 100) {
                progressBar.classList.remove('bg-red-600');
                progressBar.classList.add('bg-green-500');
            }
        }

        function updateMissionStatus(checkbox) {
            const missionId = checkbox.getAttribute('data-mission');
            const missionDiv = document.getElementById('mission' + missionId);
            const missionChecks = missionDiv.querySelectorAll('.task-check');
            const missionChecksDone = missionDiv.querySelectorAll('.task-check:checked');
            const badge = missionDiv.querySelector('span');

            if (missionChecks.length === missionChecksDone.length) {
                missionDiv.classList.add('mission-complete');
                badge.className = "bg-green-900 text-green-200 text-xs px-2 py-1 rounded";
                badge.innerText = "SOLVED";
            } else {
                missionDiv.classList.remove('mission-complete');
                badge.className = "bg-gray-700 text-gray-300 text-xs px-2 py-1 rounded";
                badge.innerText = "PENDING";
            }
        }

        function toggleHint(id) {
            const el = document.getElementById(id);
            if (el.classList.contains('hidden-content')) {
                el.classList.remove('hidden-content');
            } else {
                el.classList.add('hidden-content');
            }
        }

        function generateReport() {
            const name = document.getElementById('studentName').value;
            const completedChecks = document.querySelectorAll('.task-check:checked');
            const completedCount = completedChecks.length;
            
            if (!name) {
                alert("Mohon isi Nama Teknisi terlebih dahulu!");
                return;
            }

            const percentage = Math.round((completedCount / totalTasks) * 100);
            document.getElementById('reportName').innerText = name;
            document.getElementById('reportDate').innerText = new Date().toLocaleDateString('id-ID', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute:'2-digit' });
            document.getElementById('reportScore').innerText = percentage + "%";

            const statusEl = document.getElementById('reportStatus');
            const scoreEl = document.getElementById('reportScore');
            
            if (percentage === 100) {
                statusEl.innerText = "SYSTEM RESTORED";
                statusEl.className = "text-2xl font-bold mt-1 text-green-400";
                scoreEl.className = "text-4xl font-bold text-green-400";
            } else if (percentage >= 70) {
                statusEl.innerText = "PARTIAL RECOVERY";
                statusEl.className = "text-2xl font-bold mt-1 text-yellow-400";
                scoreEl.className = "text-4xl font-bold text-yellow-400";
            } else {
                statusEl.innerText = "SYSTEM FAILED";
                statusEl.className = "text-2xl font-bold mt-1 text-red-500";
                scoreEl.className = "text-4xl font-bold text-red-500";
            }

            const reportList = document.getElementById('reportList');
            reportList.innerHTML = "";
            checkboxes.forEach(box => {
                const label = box.getAttribute('data-label');
                const li = document.createElement('li');
                if (box.checked) {
                    li.innerHTML = `<span class="text-green-500">[FIXED]</span> ${label}`;
                } else {
                    li.innerHTML = `<span class="text-red-500">[BROKEN]</span> ${label}`;
                }
                reportList.appendChild(li);
            });

            document.getElementById('mainDashboard').classList.add('hidden-content');
            document.getElementById('finalReport').classList.remove('hidden-content');
            window.scrollTo(0, 0);
        }

        function editReport() {
            document.getElementById('finalReport').classList.add('hidden-content');
            document.getElementById('mainDashboard').classList.remove('hidden-content');
        }

        function showGuide() {
            document.getElementById('guideModal').classList.remove('hidden-content');
        }

        function closeGuide() {
            document.getElementById('guideModal').classList.add('hidden-content');
        }
    </script>
</body>
</html>